<div class="qrform-container">
  <h2 class="title">{{ 'QRFORM.TITLE' | translate }}</h2>

  <form (ngSubmit)="generateQr()" class="form">
    
    <!-- ЁЯзН Personal Information -->
    <h3 class="section-heading">{{ 'QRFORM.SECTION_PERSONAL' | translate }}</h3>
    <input type="text" [(ngModel)]="name" name="name" [placeholder]="'QRFORM.PLACEHOLDER_NAME' | translate" required />
    <input type="email" [(ngModel)]="email" name="email" [placeholder]="'QRFORM.PLACEHOLDER_EMAIL' | translate" required />
    <input type="tel" [(ngModel)]="phone" name="phone" [placeholder]="'QRFORM.PLACEHOLDER_PHONE' | translate" required />
    <input type="text" [(ngModel)]="bloodGroup" name="bloodGroup" [placeholder]="'QRFORM.PLACEHOLDER_BLOOD_GROUP' | translate" />
    <input type="text" [(ngModel)]="dob" name="dob" [placeholder]="'QRFORM.PLACEHOLDER_DOB' | translate" />

    <!-- ЁЯЪи Emergency Contact -->
    <h3 class="section-heading">{{ 'QRFORM.SECTION_EMERGENCY' | translate }}</h3>
    <input type="text" [(ngModel)]="emergencyContactName" name="emergencyContactName" [placeholder]="'QRFORM.PLACEHOLDER_EMERGENCY_NAME' | translate" required />
    <input type="tel" [(ngModel)]="emergencyContactPhone" name="emergencyContactPhone" [placeholder]="'QRFORM.PLACEHOLDER_EMERGENCY_PHONE' | translate" required />

    <!-- ЁЯПе Medical Information -->
    <h3 class="section-heading">{{ 'QRFORM.SECTION_MEDICAL' | translate }}</h3>
    <textarea [(ngModel)]="medicalConditions" name="medicalConditions" [placeholder]="'QRFORM.PLACEHOLDER_MEDICAL_CONDITIONS' | translate"></textarea>
    <textarea [(ngModel)]="medications" name="medications" [placeholder]="'QRFORM.PLACEHOLDER_MEDICATIONS' | translate"></textarea>

    <!-- ЁЯЪЧ Vehicle Information -->
    <h3 class="section-heading">{{ 'QRFORM.SECTION_VEHICLE' | translate }}</h3>
    <input type="text" [(ngModel)]="vehicleNumber" name="vehicleNumber" [placeholder]="'QRFORM.PLACEHOLDER_VEHICLE_NUMBER' | translate" />
    <input type="text" [(ngModel)]="vehicleType" name="vehicleType" [placeholder]="'QRFORM.PLACEHOLDER_VEHICLE_TYPE' | translate" />
    <input type="text" [(ngModel)]="homeAddress" name="homeAddress" [placeholder]="'QRFORM.PLACEHOLDER_HOME_ADDRESS' | translate" />

    <!-- ЁЯОи QR Design Selector -->
    <h3 class="section-heading">{{ 'QRFORM.SECTION_DESIGN' | translate }}</h3>
    <div class="custom-select">
      <select [(ngModel)]="selectedDesign" name="design">
        <option value="design1">тЪая╕П {{ 'QRFORM.DESIGN1' | translate }}</option>
        <option value="design2">ЁЯЪи {{ 'QRFORM.DESIGN2' | translate }}</option>
        <option value="design3">ЁЯУ▒ {{ 'QRFORM.DESIGN3' | translate }}</option>
        <option value="design4">ЁЯЖШ {{ 'QRFORM.DESIGN4' | translate }}</option>
      </select>
    </div>

    <!-- ЁЯМР Language Selector -->
    <h3 class="section-heading">ЁЯМР {{ 'QRFORM.SECTION_LANGUAGE' | translate }}</h3>
    <div class="custom-select">
      <select [(ngModel)]="selectedLanguage" name="language">
        <option value="en">English</option>
        <option value="hi">рд╣рд┐рдиреНрджреА</option>
        <option value="mr">рдорд░рд╛рдареА</option>
        <option value="ta">родрооро┐ро┤рпН</option>
        <option value="te">р░др▒Жр░▓р▒Бр░Чр▒Б</option>
        <option value="bn">ржмрж╛ржВрж▓рж╛</option>
        <option value="gu">ркЧрлБркЬрк░рк╛ркдрлА</option>
        <option value="tu">р▓др│Бр▓│р│Б</option>
      </select>
    </div>

    <!-- тЬПя╕П Custom Sticker Text -->
    <input type="text" [(ngModel)]="customText" name="customText" [placeholder]="'QRFORM.PLACEHOLDER_CUSTOM' | translate" />

    <!-- ЁЯФШ Submit Button -->
    <button type="submit" class="btn">{{ 'QRFORM.BUTTON_GENERATE' | translate }}</button>
  </form>

  <!-- ЁЯз╛ QR Output -->
  <div class="qr-wrapper" *ngIf="qrData">
    <div class="sticker" [ngClass]="selectedDesign" #stickerRef>
      <div class="qr-box">
        <qrcode
          [qrdata]="qrData"
          [width]="200"
          [errorCorrectionLevel]="'M'"
          [colorDark]="'#000000'"
          [colorLight]="'#ffffff'">
        </qrcode>
      </div>
      <p class="sticker-text">
        {{ customText || ('QRFORM.DEFAULT_STICKER' | translate) }}
      </p>
    </div>

    <button class="btn download-btn" (click)="downloadQr()">{{ 'QRFORM.BUTTON_DOWNLOAD' | translate }}</button>
    <button class="btn download-btn alt" (click)="downloadRawQr()">{{ 'QRFORM.BUTTON_DOWNLOAD_QR' | translate }}</button>
  </div>
</div>
